# ****ΤΙΤΛΟΣ PROJECT : GCD CALCULATOR****

***

## Περιγραφή
Αυτό το πρόγραμμα υπολογίζει τον Μέγιστο Κοινό Διαιρέτη (ΜΚΔ) μεταξύ δύο θετικών ακεραίων αριθμών. Είναι γραμμένο σε C και δέχεται από την γραμμή εντολών δύο αριθμούς και χρησιμοποιώντας τον αναδρομικό αλγόριθμο του Ευκλείδη κάνει έναν γρήγορο και βέλτιστο υπολογισμό.

Το πρόγραμμα δέχεται ως είσοδο δύο αριθμούς και επιστρέφει τον ΜΚΔ τους. Εάν δοθεί μη έγκυρη είσοδος ή αριθμοί εκτός των αποδεκτών ορίων, το πρόγραμμα επιστρέφει κατάλληλα μηνύματα λάθους. Η εκφώνηση του συγκεκριμένου πρότζεκτ βρίσκεται [εδώ](https://progintro.github.io/assets/pdf/hw1.pdf) (άσκηση 1).
***
## Περιεχόμενα
- [Εγκατάσταση](#εγκατάσταση)
- [Χρήση](#χρήση)
- [Παραδείγματα](#Παραδείγματα-Εκτέλεσης)
- [Υλοποίηση](#Υλοποίηση)
- [Χαρακτηριστικά](#Χαρακτηριστικά)
- [Άδεια](#άδεια)
## Εγκατάσταση
Για να εκτελεστεί επιτυχώς το πρόγραμμα "Gcd Calculator" θα χρειαστεί να μετατρέψετε τον πηγαίο κώδικα σε εκτελέσιμο αρχείο. Για να το πραγματοποιήσετε αυτό ακολουθήστε τα παρακάτω βήματα:
### **Πρόσθετες οδηγίες για χρήστες Windows** 
Αν χρησιμοποιείτε Windows, μπορείτε να χρησιμοποιήσετε το Windows Subsystem for Linux (WSL) για να εγκαταστήσετε τον gcc και το git με τα ακόλουθα βήματα:
- Εγκατάσταση WSL: Για να εκτελέσετε το πρόγραμμα, θα χρειαστείτε ένα τερματικό περιβάλλον Linux. Αν δεν έχετε ήδη εγκατεστημένο το WSL, μπορείτε να το εγκαταστήσετε ακολουθώντας τις οδηγίες [εδώ](https://learn.microsoft.com/en-us/windows/wsl/install).

- Ubuntu: Όταν εγκαταστήσετε το WSL ανοίξτε το Ubuntu χρησιμοποιώντας WSL.

- Εγκατάσταση git: Αφού εγκαταστήσετε WSL, μπορείτε να εγκαταστήσετε το git γράφοντας την παρακάτω εντολή στο τερματικό Linux:
```sh
sudo apt update
sudo apt install git
```

- Εγκατάσταση `gcc`: Για να μπορέσετε να τρέξετε το πρόγραμμα αυτό θα χρειαστεί να εγκαταστήσετε τον `gcc` μέσω των εντολών παρακάτω:
```sh
sudo apt install gcc
```
### **Κατασκευή προγράμματος**
1.  Αντιγράψτε το repository στον τοπικό σας υπολογιστή:
   ```sh
git clone git@github.com:progintro/hw1-Spyrosmaicho.git
```

2.    Μεταβείτε στον φάκελο του προγράμματος gcd.c:  
```sh
cd gcd/src
```
3.  Μεταγλωττίστε το πρόγραμμα trolley.c με την παρακάτω εντολή:
```sh
gcc -O3 -Wall -Wextra -Werror -pedantic -o gcd gcd.c
```
Πλέον το πρόγραμμα είναι έτοιμο να εκτελεστεί.
***
## Χρήση
Για να δουλέψει το πρόγραμμα gcd.c θα πρέπει να το τρέξετε με δύο ακριβώς ορίσματα στην γραμμή εντολών. Για να το εκτελέσετε, λοιπόν, χρησιμοποιήστε την παρακάτω εντολή:
```sh
./gcd num1 num2
```
όπου num1 και num2 είναι τα δύο ορίσματα-αριθμοί, τα οποία θα πρέπει να είναι στο διάστημα $[-10^{18}$ , $10^{18}$].

Επιπλέον είναι σημαντικό να αναφερθεί ότι για να ελέγξετε τον κωδικό εξόδου του προγράμματος αφότου τερματιστεί, μπορείτε να πληκτρολογήστε την παρακάτω εντολή. 
```sh 
echo$?
``` 
## Παραδείγματα Εκτέλεσης
Στην ενότητα αυτή θα παρουσιαστούν ορισμένα παραδείγματα εκτέλεσης του προγράμματος για να γίνει αντιληπτή η λειτουργία του.

**Παράδειγμα 1.1**
```sh
$ ./gcd
Usage: ./gcd <num1> <num2>
$ echo$?
1
```
Αν στην γραμμή εντολών δοθούν λιγότερα ή περισσότερα από δύο ορίσματα τότε εμφανίζεται αντίστοιχο μήνυμα σωστής χρήσης του προγράμματος και εκείνο τερματίζεται με κωδικό εξόδου 1, που δηλώνει αντικανονικό τερματισμό λόγω μη έγκυρης τιμής εισόδου.

**Παράδειγμα 1.2**
```sh
$ ./gcd 18 78 89 90
Usage: ./gcd <num1> <num2>
$ echo$?
1
```

Αν δοθούν αριθμοί στο εύρος $-10^{18}$ έως $10^{18}$ τότε το πρόγραμμα εμφάνιζει κανονικά τον gcd των δύο αυτών αριθμών.

**Παράδειγμα 2.1**
```sh
$ ./gcd 45 15
gcd(45, 15) = 15
$ echo$?
0
```

Επίσης αν ένας από τους δύο αριθμούς είναι αρνητικός ή και οι δύο τότε θα πρέπει να εμφανίζεται θετικό αποτέλεσμα, διότι gcd είναι πάντοτε θετικός.

**Παράδειγμα 2.2**
```sh
$ ./gcd 45 -15
gcd(45, 15) = 15
$ echo$?
0
```
Το πρόγραμμα όπως έχει αναφερθεί πιο πριν λειτουργεί κανονικά και για αρκετά μεγάλους αριθμούς.

**Παράδειγμα 2.3**
```sh
$ ./gcd 7842336000000078 3524160098766
gcd(7842336000000078, 3524160098766) = 6
$ echo$?
0
```

Τέλος αν δοθεί το μηδέν(0) ως όρισμα το πρόγραμμά πρέπει να επιστρέφει με κωδικό εξόδου 1, καθώς αυτό αποτελεί μια μη επιτρεπτή είσοδο.
**Παράδειγμα 3**
```sh
$ ./gcd 0 35
$ echo$?
1
$ ./gcd 56 0
$ echo$?
$ ./gcd 0 0
$ echo$?
1
```
## Υλοποίηση
### <ins>Εισαγωγή Header Files:</ins>

- Οι εντολές #include <stdio.h> και #include <stdlib.h> χρησιμοποιήθηκαν για να εντάξω στο πρόγραμμα μου αυτές τις δύο βιβλιοθήκες της C (stdio.h, stdlib.h), οι οποίες προσφέρουν την δυνατότητα αξιοποίησης βασικών συναρτήσεων εισόδου/εξόδο (scanf,printf) καθώς και τις exit( ) και atoll( ) για τερματισμό του προγράμματος και για μετατροπή των ορισμάτων που δίνονται στην γραμμή εντολών σε long long int αντίστοιχα.

### <ins>Argc και Argv</ins>

- Από τη στιγμή που θέλουμε το πρόγραμμα να παίρνει τιμές από την γραμμή εντολών θα πρέπει η main να περιέχει δύο ορίσματα το argc και argv. Επιπρόσθετα, εφόσον το έγκυρο πλήθος τιμών εισόδου είναι 2 είναι απαραίτητο να γίνεται ο έλεγχος  `if(argc!=3)` ούτως ώστε να εξασφαλίσουμε ότι αν ο χρήστης δεν δώσει ακριβώς δύο τιμές θα τερματίζεται το πρόγραμμα. `if(argc!=3)` το argc διάφορο του 3 καθώς μετράει πάντα πέρα από τα ορίσματα που δίνει ο χρήστης και το όνομα του προγράμματος που εκτελείται. 

### <ins>Μεταβλητές:</ins>

   - Αντιμετώπιση αριθμών από $-10^{18}$ έως $10^{18}$: Το πρόγραμμα για να μπορέσει να δεχθεί ακέραιους αριθμούς του εύρους &plusmn; $10^{18}$ έπρεπε τα δύο ορίσματα από την γραμμή εντολών να μετατραπούν σε long long int για να υποστηρίξει τέτοιους μεγάλους αριθμούς, μιας και ο τύπος αυτός είναι δυνατόν να αποθηκεύσει αριθμούς του εύρους $−2^{63}$ έως $2^{63}−1$ που καλύπτει με ευκολία το διάστημα $[-10^{18}$ , $10^{18}$]. Για τον λόγο αυτό η συνάρτηση atoll βοήθησε ούτως ώστε να αλλάξει το κάθε όρισμα σε long long int και εν συνεχεία να αποθηκευτεί σε αντίστοιχου τύπου μεταβλητή(num1,num2).

### <ins>Έλεγχος για μηδενική είσοδο:</ins>
- Το πρόγραμμα, όπως αναφέρουν οι προδιαγραφές, θα πρέπει να τερματίζει αν δοθεί ως είσοδος το μηδέν(0) είτε στο ένα όρισμα είτε στο άλλο είτε και στα δύο. Επόμενως, απο την στιγμή που έχουμε αποθηκεύσει στις μεταβλητές num1 και num2 τις δύο τιμές που δόθηκαν από την γραμμή εντολών αρκεί να κάνουμε τον έλεγχο `if(num1==0 || num2==0)` ούτως ώστε το πρόγραμμα να τερματίζει με κωδικό εξόδου 1 οποτεδήποτε εισαχθεί το μηδέν(0) στην είσοδο.

### <ins>Συνάρτηση gcd:</ins>
- Η συνάρτηση gcd υπολογίζει τον μέγιστο κοινό διαιρέτη (ΜΚΔ) δύο ακεραίων αριθμών χρησιμοποιώντας τον αναδρομικό αλγόριθμο του Ευκλείδη. Αυτός ο αλγόριθμος βασίζεται στη μαθηματική ιδιότητα ότι ο ΜΚΔ δύο αριθμών δεν αλλάζει αν αντικαταστήσουμε τον μεγαλύτερο αριθμό με το υπόλοιπο της διαίρεσής του με τον μικρότερο. 

#### Ανάλυση της συνάρτησης gcd

1. Αντιμετώπιση αρνητικών αριθμών:
Αν ο αριθμός a είναι αρνητικός, τον κάνει θετικό. Αυτό γίνεται για να είναι το αποτέλεσμα σωστό..

2. Η λογική του αλγόριθμου:

    Αν b είναι μηδέν, τότε το αποτέλεσμα είναι ο αριθμός a. Αυτό συμβαίνει επειδή κάθε αριθμός διαιρείται τέλεια με τον εαυτό του.
    Διαφορετικά, βρίσκει το υπόλοιπο της διαίρεσης a % b και καλεί τη συνάρτηση ξανά, αλλάζοντας τη θέση των αριθμών ως ορίσματα της συνάρτησης.

3. Τι κάνει η αναδρομή:
Κάθε φορά που η συνάρτηση καλείται ξανά, δουλεύει με μικρότερους αριθμούς, επειδή το υπόλοιπο της διαίρεσης a % b είναι πάντα μικρότερο από το b. Αυτό συνεχίζεται μέχρι το υπόλοιπο να γίνει 0. Όταν συμβεί αυτό, ο αριθμός a είναι ο ΜΚΔ.

4. Γιατί ισχύει αυτό:
Ο αλγόριθμος του Ευκλείδη βασίζεται στη μαθηματική αρχή ότι ο ΜΚΔ δύο αριθμών δεν αλλάζει αν αντικαταστήσουμε τον μεγαλύτερο από αυτούς με το υπόλοιπο της διαίρεσής του με τον μικρότερο. Έτσι, μειώνοντας σταδιακά τους αριθμούς, βρίσκουμε τον ΜΚΔ. ([ευκλείδιος-αλγόριθμος](https://en.wikipedia.org/wiki/Euclidean_algorithm)).

### Ενδεικτικό παράδειγμα

Για να γίνει πιο κατανοητό θα χρησιμοποιήσουμε δύο αριθμούς και θα βρούμε τον ΜΚΔ τους χρησιμοποιώντας την συνάρτηση gcd
Έστω ότι θέλουμε να υπολογίσουμε τον ΜΚΔ των -36 και 24.
1. Πρώτη κλήση:
    
    a = −36 | b = 24
    
    Το a < 0 , οπότε μετατρέπεται σε θετικό: a = (-36)*(-1)= 36
    
    Υπολογίζεται gcd(24,36%24) → gcd(24,12)
2. Δεύτερη κλήση:

    a = 24 | b = 12
    
    Υπολογίζεται gcd(12,24%12) → gcd(12,0)
3. Τρίτη κλήση:

    a = 12 | b = 0
    
    Επιστρέφεται το a=12 γιατί όταν το b μηδενιστεί, το a είναι ο ΜΚΔ.

Επομένως, Ο ΜΚΔ του -36 και 24 είναι 12 που πράγματι ισχύει.

## Χαρακτηριστικά
- *Δυνατότητα επεξεργασίας μεγάλων αριθμών*:  Μπορεί να δεχθεί κόστη με τιμή από $-10^{18}$ έως $10^{18}$.
- *Αντιμετώπιση σφαλμάτων*: Στην περίπτωση που δοθεί στο πρόγραμμα είσοδος μη αποδεκτή (πχ το μηδέν) εκείνο τερματίζει με κωδικό εξόδου 1. Ακόμα, ο χρήστης ενημερώνεται αν εισάγει λάθος πλήθος ορισμάτων στην γραμμή εντολών μέσω εκτύπωσης αντίστοιχου μηνύματος για σωστή χρήση στην οθόνη.
- *Αποδοτικότητα και χρόνος*: Το πρόγραμμα χρησιμοποιεί την μέθοδο του Ευκλείδη για τον υπολογισμό του ΜΚΔ, η οποία είναι αποδοτική και τρέχει σε χρόνο Ο(log(min(a, b))).Η πολυπλοκότητα του αλγορίθμου του Ευκλείδη είναι O(log(min(a, b))), επειδή κάθε φορά που κάνουμε τη διαίρεση, το υπόλοιπο που προκύπτει είναι μικρότερο από το b. Αυτό σημαίνει ότι κάθε επανάληψη μειώνει το μέγεθος του αριθμού που εξετάζουμε. Έτσι, ο αριθμός των επαναλήψεων είναι ανάλογος με το λογάριθμο του μικρότερου από τους δύο αριθμούς, και ο αλγόριθμος ολοκληρώνεται γρήγορα ακόμα και για μεγάλους αριθμούς και μάλιστα σε λιγότερο απο 1 δευτερόλεπτο.

## Άδεια(License)

Αυτό το έργο είναι αδειοδοτημένο υπό την **MIT License**. 

### Επιτρέπεται:

- Η χρήση του κώδικα για οποιονδήποτε σκοπό.
- Η τροποποίηση και η προσαρμογή του κώδικα.
- Η διανομή του κώδικα, υπό την προϋπόθεση ότι θα αναφέρεται η αρχική άδεια.

### Δεν επιτρέπεται:

- Η αποκοπή της άδειας από τον κώδικα.

### MIT License

Copyright (c) 2024 Spyros Maichosoglou

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to use the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
***
